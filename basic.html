<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javascript basics</title>
</head>

<body>
    <h1>Javascript basics</h1>
    <ul>
        <li>Spring</li>
        <li>Summer</li>
        <li>Fall</li>
        <li>Winter</li>
    </ul>
    <script>
    function squarePromise(value){
      if (typeof value !== "number"){
         return Promise.reject("Its not a number")
      }
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          //resolve => return +
        resolve({
          //value: value,
          value, 
          result: value * value
        })
      }, 0 | Math.random()*1000);
      })
     
    }

    // next step, infinity
    squarePromise(0)
      .then((obj) => {// funciton
        //console.log(obj)
        console.log("Start promise")
        console.log("Promise", obj.value, obj.result)
        return squarePromise(1)
      })
      .then((obj) => {// funciton
        //console.log(obj)
        console.log("Promise", obj.value, obj.result)
        return squarePromise(2)
      }) 
      .then((obj) => {// funciton
        //console.log(obj)
        console.log("Promise", obj.value, obj.result)
        return squarePromise(3)
      })
      .then((obj) => {// funciton
        //console.log(obj)
        console.log("Promise", obj.value, obj.result)
        return squarePromise(4)
      })
      .then((obj) => {// funciton
        //console.log(obj)
        console.log("Promise", obj.value, obj.result)
        return squarePromise(5)
      })
      .then((obj) => {// funciton
        //console.log(obj)
        console.log("End", obj.value, obj.result)
      })
      .catch(err => console.error(err)) //error
    </script>
</body>

</html>